<html>
<head>
<style type="text/css">
input[type="submit"],input[type="button"]
{
	font-family: "宋体";
	font-size: 18px;
	color: white;
	background-color: #87A3C9;
	height: 26px;
	width: 50px;
	border: 1px;
}
td,div
{
    FONT-FAMILY:"宋体";
    font-size: 18px;
}
</style>
<script type="text/javascript">

function commit() {
    var disk_info = document.getElementById("disk_info").value;
    if (disk_info == '') {
        alert("请输入机器码！");
        return;
    }
	var auth_start_day = document.getElementById("auth_start_day").value;
    if (auth_start_day == '') {
        alert("请输入授权开始日期！");
        return;
    }
	var auth_stop_day = document.getElementById("auth_stop_day").value;
    if (auth_stop_day == '') {
        alert("请输入授权结束日期！");
        return;
    }
	
	var auth_code = callback('crawler_auth_create_regcode', disk_info, auth_start_day, auth_stop_day);
    document.getElementById("auth_code").value = auth_code;
	document.getElementById("auth_days").value = callback('crawler_auth_days', auth_start_day, auth_stop_day);
	
	if (crawl_prompt_yes_or_no('是否要保存？') == 0) {
        return;
    }
	
	var auth_remark = document.getElementById("auth_remark").value;
    if (auth_remark == '') {
        alert("请输入备注！");
        return;
    }
	
	callback('crawler_auth_save', disk_info, auth_start_day, auth_stop_day, auth_code, auth_remark);
	crawler_active_ui_runjs(1, 'updateAuthListToolBar();');
	crawler_active_ui_runjs(2, 'refresh();');
}

</script>
</head>

<body onLoad="load();" bgcolor="#CCCCCC" style="margin-left:30px;margin-top:30px;">
	<div>
		输入
		<table cellpadding="5" border="1" style="border-collapse: collapse;" bordercolor="#000000"><tbody>
			<tr>
				<td width="80" bgcolor="#CCCCCC">机器码</td>
				<td width="160"><input id="disk_info" type="text" style="width:140px;"/></td>
			</tr>
			<tr>
				<td bgcolor="#CCCCCC">授权开始</td>
				<td><input id="auth_start_day" type="text" title="YYYY-MM-DD" style="width:140px;"/></td>
			</tr>
			<tr>
				<td bgcolor="#CCCCCC">授权结束</td>
				<td><input id="auth_stop_day" type="text" title="YYYY-MM-DD" style="width:140px;"/></td>
			</tr>
			<tr>
				<td bgcolor="#CCCCCC">备注</td>
				<td><input id="auth_remark" type="text" style="width:140px;"/></td>
			</tr>
		</tbody></table>
	</div>
	<div style="margin-top:10px;">
		输出
		<table cellpadding="5" border="1" style="border-collapse: collapse;" bordercolor="#000000"><tbody>
			<tr>
				<td width="80" bgcolor="#CCCCCC">授权码</td>
				<td width="160"><input id="auth_code" type="text" style="width:140px;"/></td>
			</tr>
			<tr>
				<td bgcolor="#CCCCCC">授权天数</td>
				<td><input id="auth_days" type="text" style="width:140px;"/></td>
			</tr>
		</tbody></table>
	</div>
	<div style="margin-top:10px;">
		<input type="button" value="生成授权码" style="width:110px;" onclick="commit();"/>
		<input type="button" value="取消" onclick="crawler_popup_wnd_hide();" style="margin-left:20px;"/>
	</div>
</body>
</html>
