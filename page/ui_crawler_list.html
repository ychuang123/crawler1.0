<html>
<head>
<style type="text/css">
input[type="submit"],input[type="button"]
{
	font-family: "宋体";
	font-size: 18px;
	color: white;
	background-color: #87A3C9;
	height: 26px;
	width: 84px;
	border: 1px;
}
td
{
    FONT-FAMILY:"宋体";
    font-size: 18px;
}
</style>
<script type="text/javascript">

	//更新状态
    function refreshStatus() {
        var table = document.getElementById('list');
        for (var i = 0; i < table.rows.length - 1; i++) {
            var row = table.rows[i + 1];
            row.cells[1].innerHTML = callback('crawler_client_get_ip', i);
            row.cells[2].innerHTML = callback('crawler_client_get_port', i);
            row.cells[3].innerHTML = callback('crawler_client_get_create_time', i);
            row.cells[4].innerHTML = callback('crawler_client_get_heatbeat_time', i);
            row.cells[5].innerHTML = callback('crawler_client_get_rec_num', i);
			row.cells[6].innerHTML = callback('crawler_client_get_crawling_url', i);
        }
        setTimeout(function () { refreshStatus(); }, 5000);
    }
	
function refresh() {

    var table = document.getElementById('list');
    var len = table.rows.length;
    for (var i = 1; i < len; i++) {
        table.deleteRow(1);
    }

    var count = callback('crawler_client_get_count');
    for (i = 0; i < count; i++) {
        
        var row = table.insertRow(i + 1);
        //row.setAttribute('bgcolor', '#CCCCCC');

        var cell = row.insertCell(0);
        cell.innerHTML = (i+1);

        cell = row.insertCell(1);
        cell.innerHTML = callback('crawler_client_get_ip', i);

        cell = row.insertCell(2);
        cell.innerHTML = callback('crawler_client_get_port', i);
		
        cell = row.insertCell(3);
        cell.innerHTML = callback('crawler_client_get_create_time', i);

        cell = row.insertCell(4);
        cell.innerHTML = callback('crawler_client_get_heatbeat_time', i);
		
        cell = row.insertCell(5);
        cell.innerHTML = callback('crawler_client_get_rec_num', i);

        cell = row.insertCell(6);
        cell.innerHTML = callback('crawler_client_get_crawling_url', i);
    }
}

</script>
</head>
<body onLoad="refresh();setTimeout(function () { refreshStatus(); }, 5000);" style="margin-top:6px;margin-left:6px;margin-right:8px;">
<table id="list" width="100%" cellpadding="5" border="1" style="border-collapse: collapse;" bordercolor="#000000"><tbody>
<tr style="background-color:#cccccc">
<td width="100">序号</td>
<td width="300">ip</td>
<td width="200">端口</td>
<td width="300">连接时间</td>
<td width="300">心跳时间</td>
<td width="200">采集记录</td>
<td width="800">采集url</td>
</tr>
</tbody></table>
</body>
</html>
